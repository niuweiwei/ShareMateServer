<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sharemate.server.dao.NoteMapper">
<resultMap id="guanzhunote" type="com.sharemate.entity.Note">
	<id property="noteId" column="note_id"/>
	<result property="noteTitle" column="note_title"/>
	<result property="noteDetail" column="note_detail"/>
	<result property="noteImage" column="note_image"/>
	<result property="noteDate" column="note_date"/>
	<result property="noteCommentCount" column="note_comment_count"/>
	<result property="noteCollectionCount" column="note_collection_count"/>
	<result property="noteLikeCount" column="note_Like_count"/>
</resultMap>
<resultMap id="getguanzhuuser" type="com.sharemate.entity.Follow">
	<id property="id" column="id"/>
	<result property="followuserid" column="follow_user_id"></result>
	<result property="followeduserid" column="followed_user_id"></result>
</resultMap>
	<select id="findGuanzhuUser" resultMap="getguanzhuuser" >select *from follow where follow_user_id=#{followuserid}</select>
	<select id="findGuanzhuNoteById" resultMap="guanzhunote">select * from note where user_id=#{userId} </select>
	<insert id="insertNote">insert into note(note_title, note_detail, note_image,)values(#{noteTitle}, #{noteDetail}, #{noteImage}) </insert>
	<select id="findNoteByNoteId" resultMap="guanzhunote">select * from note where note_id=#{noteid}</select>
	<update id="addZanCount">update note set note_like_count=#{noteLikeCount} where note_id=#{noteId}</update>
	<update id="addCollectCount">update note set note_collection_count=#{noteCollectionCount} where note_id=#{noteId}</update>
	<insert id="insertLike">insert into likes(user_id,note_id) values(#{userid},#{noteid})</insert>
	<insert id="insertCollect">insert into collect(user_id,note_id) values(#{userid},#{noteid})</insert>
</mapper>