<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace：映射器接口的权限定名 -->
<mapper namespace="com.sharemate.server.dao.NoteMapper">


 <!-- 定义结果映射 --><!--type别名可用user，在主配置文件已经设置  -->
 <resultMap type="com.sharemate.entity.Note" id="noteMapper"> 
  <id column="note_id" property="noteId"/>
  <result column="note_video" property="noteVideo"/>
  <result column="note_title" property="noteTitle"/>
  <result column="note_detail" property="noteDetail"/>
  <result column="note_image" property="noteImage"/>
  <result column="note_date" property="noteDate"/>
  <result column="type_id" property="typeId"/>
  <association property="user" 
     column="{uId=user_id}"
     select="com.sharemate.server.dao.UserMapper.getUserByUserId"/>
 </resultMap>
 <!-- 映射SQL语句  id：接口类中的方法名 resultType:返回值类型-->
 <select id="getNoteSubList" resultMap="noteMapper">
  select * from note
 </select>
</mapper>